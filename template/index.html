<html>
	<head>
		<title>GitGrader</title>
		<link rel="stylesheet" href="static/css/jquery-ui.css">
		<link rel="stylesheet" href="static/css/bootstrap.min.css">
		<link rel="stylesheet" href="static/css/style.css">
		<script type="text/javascript" src="summary.js"></script>
		<script src="static/scripts/lib/jquery-1.12.4.js"></script>
		<script src="static/scripts/lib/jquery-ui.js"></script>
		<script src="static/scripts/lib/charts.js"></script>
		<script src="static/scripts/lib/vue.js"></script>
		<script type="text/javascript" src="static/scripts/utils.js"></script>
		<script type="text/javascript" src="static/scripts/summary-data-formating.js"></script>
		<script>
		$(document).ready(function() {
			var app = new Vue({
				el: '#vue-app',
				data: {
					summary : summaryJson,
				},
				methods: {
					getDistributionCanvasID : function (repo) {
						return repo + "-distribution-canvas";
					},
					getProgressCanvasID : function(repo) {
						return repo + "-progress-canvas";
					},
					getHrefFromName : function(name) {
						return "detail.html?repo=" + name;
					},
					sortByTotalContribution : function(summary) {
						repos = [];
						for (repo in summary){
							summary[repo]["totalContribution"] = getContribution(summary[repo]);
							repos.push(summary[repo]);
						}
						repos.sort(function(a,b){
							return b["totalContribution"] - a["totalContribution"];
						})
						return repos;
					}
				}
			});
		});
		</script>
	</head>
	<body>
		<div id="vue-app">
			<div class="box-wrapper">
				<template v-for="repo in sortByTotalContribution(summary)">
				<div class="summary_box">
					<h6><a v-bind:href="getHrefFromName(repo.displayName)">{{ repo.displayName }}</a></h6>
					<div class="box-wrapper">
						<div class="progress_box" >
							<canvas v-bind:id="getProgressCanvasID(repo.displayName)"></canvas>
						</div>
						<div class="distribution_box" >
							<canvas v-bind:id="getDistributionCanvasID(repo.displayName)"></canvas>
						</div>
					</div>
				</div>
				</template>
			</div>
		</div>
	</body>
</html>